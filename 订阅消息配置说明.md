# 订阅消息模板ID配置说明

## 📍 需要修改的位置

订阅消息模板ID需要在以下两个文件中修改：

### 1. `miniprogram/pages/home/index.js`

**位置**：第336行

```javascript
subscribeMessage(plan) {
  // 调用微信订阅消息接口
  wx.requestSubscribeMessage({
    tmplIds: ['your-template-id-1', 'your-template-id-2'], // 替换为实际模板ID
    // ...
  })
}
```

### 2. `miniprogram/pages/subscribe/index.js`

**位置**：第105行

```javascript
subscribeMessage(frequency) {
  wx.requestSubscribeMessage({
    tmplIds: ['your-template-id-1', 'your-template-id-2'], // 替换为实际模板ID
    // ...
  })
}
```

---

## 🔑 如何获取模板ID

### 步骤1：登录微信公众平台

1. 访问 [微信公众平台](https://mp.weixin.qq.com/)
2. 使用小程序管理员账号登录

### 步骤2：申请订阅消息模板

1. 进入小程序后台
2. 点击左侧菜单 **"功能"** → **"订阅消息"**
3. 点击 **"公共模板库"** 或 **"我的模板"**
4. 在公共模板库中搜索关键词，例如：
   - "训练提醒"
   - "打卡提醒"
   - "运动提醒"
5. 选择合适的模板，点击 **"选用"**
6. 填写模板参数（如果需要）
7. 提交申请，等待审核通过

### 步骤3：获取模板ID

1. 审核通过后，在 **"我的模板"** 中可以看到已申请的模板
2. 复制 **模板ID**（格式类似：`xxxxxxxxxxxxxxxxxxxxxxxxxxxxx`）

---

## ✏️ 修改代码

### 修改位置1：首页订阅弹窗

打开 `miniprogram/pages/home/index.js`，找到第336行：

```javascript
// 修改前
tmplIds: ['your-template-id-1', 'your-template-id-2'],

// 修改后（替换为你的实际模板ID）
tmplIds: ['xxxxxxxxxxxxxxxxxxxxxxxxxxxxx'],
```

### 修改位置2：订阅页面

打开 `miniprogram/pages/subscribe/index.js`，找到第105行：

```javascript
// 修改前
tmplIds: ['your-template-id-1', 'your-template-id-2'],

// 修改后（替换为你的实际模板ID）
tmplIds: ['xxxxxxxxxxxxxxxxxxxxxxxxxxxxx'],
```

---

## 📝 注意事项

1. **模板ID格式**：模板ID是一个字符串，通常很长（20+个字符）
2. **多个模板**：如果需要多个提醒模板，可以传入数组，例如：
   ```javascript
   tmplIds: ['模板ID1', '模板ID2', '模板ID3']
   ```
3. **模板参数**：如果模板有参数，需要在发送消息时传入（通常在云函数中处理）
4. **测试环境**：开发阶段可以使用测试模板ID进行测试

---

## 🧪 测试

修改完成后：

1. 保存文件
2. 重新编译小程序
3. 点击订阅按钮，测试订阅功能
4. 检查控制台是否有错误

---

## 📚 相关文档

- [微信小程序订阅消息官方文档](https://developers.weixin.qq.com/miniprogram/dev/api-backend/open-api/subscribe-message/subscribeMessage.send.html)
- [订阅消息使用指南](https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/subscribe-message.html)
