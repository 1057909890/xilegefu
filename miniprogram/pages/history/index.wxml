<!--pages/history/index.wxml-->
<view class="history-page">
  <view class="header" style="padding-top: {{headerPaddingTop}}rpx;">
    <view class="back-btn" bindtap="goBack">
      <text class="back-icon">‹</text>
    </view>
    <text class="title">训练历史</text>
    <view class="header-placeholder"></view>
  </view>
  
  <!-- 统计卡片 -->
  <view class="stats-card">
    <view class="stat-item">
      <text class="stat-label">总训练次数</text>
      <text class="stat-value">{{totalCount}}</text>
    </view>
    <view class="stat-divider"></view>
    <view class="stat-item">
      <text class="stat-label">累计时长</text>
      <text class="stat-value">{{totalDuration}}</text>
    </view>
    <view class="stat-divider"></view>
    <view class="stat-item">
      <text class="stat-label">连续打卡</text>
      <text class="stat-value">{{checkInDays}}天</text>
    </view>
  </view>
  
  <!-- 历史记录列表 -->
  <view class="history-list">
    <view 
      class="history-item" 
      wx:for="{{historyList}}" 
      wx:key="index"
      bindtap="viewDetail"
      data-item="{{item}}"
    >
      <view class="item-left">
        <text class="item-date">{{item.dateStr}}</text>
        <text class="item-time">{{item.timeStr}}</text>
      </view>
      <view class="item-right">
        <text class="item-duration">{{item.durationStr}}</text>
        <text class="item-cycles">{{item.cycleCount}}次循环</text>
      </view>
    </view>
    
    <view class="empty-state" wx:if="{{historyList.length === 0}}">
      <text class="empty-text">暂无训练记录</text>
    </view>
  </view>
</view>
