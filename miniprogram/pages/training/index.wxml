<!--pages/training/index.wxml-->
<view class="training-page">
  
  <!-- 计时器模块 -->
  <view class="timer-section">
    <view class="progress-ring">
      <canvas 
        class="progress-canvas" 
        type="2d"
        id="progressCanvas"
        style="width: 400rpx; height: 400rpx;"
      ></canvas>
      <view class="timer-content">
        <text class="timer-text {{isPaused ? 'paused' : ''}}">{{timeDisplay}}</text>
        <text class="timer-label">剩余</text>
      </view>
    </view>
    
    <!-- 数据栏 -->
    <view class="stats-bar">
      <view class="stat-item">
        <text class="stat-label">已训练时长</text>
        <text class="stat-value">{{elapsedTime}}</text>
      </view>
      <view class="stat-divider"></view>
      <view class="stat-item">
        <text class="stat-label">完成循环数</text>
        <text class="stat-value">{{cycleCount}}</text>
      </view>
      <view class="stat-divider"></view>
      <view class="stat-item">
        <text class="stat-label">总时长</text>
        <text class="stat-value">{{totalTime}}</text>
      </view>
    </view>
  </view>
  
  <!-- 呼吸引导模块 -->
  <view class="breathing-section">
    <view 
      class="breathing-indicator {{breathingState}}"
      style="transform: scale({{breathScale}}); transition-duration: {{breathingDuration}}s;"
    >
      <text class="breathing-text">{{breathingText}}</text>
      <text class="breathing-count">{{breathingCount}}秒</text>
    </view>
    <text class="breathing-hint">{{breathingHint}}</text>
  </view>
  
  <!-- 操作按钮 -->
  <view class="action-buttons safe-area-bottom">
    <button 
      class="action-btn pause-btn {{isPaused ? 'resume' : ''}}" 
      bindtap="togglePause"
    >
      <text>{{isPaused ? '继续' : '暂停'}}</text>
    </button>
    <button class="action-btn stop-btn" bindtap="handleStop">
      <text>停止</text>
    </button>
  </view>
</view>
